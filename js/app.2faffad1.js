(function(e){function t(t){for(var c,i,a=t[0],r=t[1],u=t[2],d=0,p=[];d<a.length;d++)i=a[d],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&p.push(o[i][0]),o[i]=0;for(c in r)Object.prototype.hasOwnProperty.call(r,c)&&(e[c]=r[c]);l&&l(t);while(p.length)p.shift()();return s.push.apply(s,u||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],c=!0,a=1;a<n.length;a++){var r=n[a];0!==o[r]&&(c=!1)}c&&(s.splice(t--,1),e=i(i.s=n[0]))}return e}var c={},o={app:0},s=[];function i(t){if(c[t])return c[t].exports;var n=c[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=c,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var c in e)i.d(n,c,function(t){return e[t]}.bind(null,c));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/kannel-ui/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],r=a.push.bind(a);a.push=t,a=a.slice();for(var u=0;u<a.length;u++)t(a[u]);var l=r;s.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"3ada":function(e,t,n){"use strict";n("d551")},4036:function(e,t,n){},5524:function(e,t,n){"use strict";n("a2f8")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var c=n("7a23"),o=n("5502"),s=(n("159b"),n("d4ec")),i=n("bee2"),a=(n("d3b7"),function(){function e(t){Object(s["a"])(this,e),this.corsProxyUrl=t}return Object(i["a"])(e,[{key:"get",value:function(e){var t=this.proxyUrl(e);return fetch(t,{headers:this.getRequiredCorsClientHeader()})}},{key:"proxyUrl",value:function(e){return this.corsProxyUrl+"/"+e}},{key:"getRequiredCorsClientHeader",value:function(){return{origin:"x-requested-with"}}}]),e}()),r=function(){function e(){Object(s["a"])(this,e)}return Object(i["a"])(e,[{key:"get",value:function(e){return fetch(e)}}]),e}(),u=n("3835"),l=(n("25f0"),n("3ca3"),n("ddb0"),n("2b3d"),n("4fad"),n("caad"),n("2532"),n("99af"),n("d81d"),n("ac1f"),n("1276"),n("b0c0"),n("b85c")),d=(n("498a"),function(e,t){var n=(new DOMParser).parseFromString(e,"text/xml");function c(e,n){if("#text"!=e.nodeName){var o={},s=n[e.nodeName];if(s?Array.isArray(s)?n[e.nodeName].push(o):n[e.nodeName]=[s,o]:t&&-1!=t.indexOf(e.nodeName)?n[e.nodeName]=[o]:n[e.nodeName]=o,e.attributes){var i,a=Object(l["a"])(e.attributes);try{for(a.s();!(i=a.n()).done;){var r=i.value;o[r.nodeName]=r.nodeValue}}catch(b){a.e(b)}finally{a.f()}}var u,d=Object(l["a"])(e.childNodes);try{for(d.s();!(u=d.n()).done;){var p=u.value;c(p,o)}}catch(b){d.e(b)}finally{d.f()}}else e.nodeValue.trim()&&(n["value"]=e.nodeValue)}var o,s={},i=Object(l["a"])(n.childNodes);try{for(i.s();!(o=i.n()).done;){var a=o.value;c(a,s)}}catch(r){i.e(r)}finally{i.f()}return s}),p=13e3,b=function(){function e(t,n,c){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:p;Object(s["a"])(this,e),this.http=t,this.host=n,this.password=c,this.status="untested",this.port=o,this.info=null}return Object(i["a"])(e,[{key:"connect",value:function(){var e=this,t=this.getStatusEndpoint();this.http.get(t).then((function(t){if(!t.ok)throw new Error("Connection to host "+e.host+" fails.");return t.text()})).then((function(t){e.status="active",e.info=d(t,["smsc"])["gateway"]})).catch((function(t){console.log(t.message),e.status="dead"}))}},{key:"suspend",value:function(){this._supplyCommand("suspend")}},{key:"isolate",value:function(){this._supplyCommand("isolate")}},{key:"resume",value:function(){this._supplyCommand("resume")}},{key:"shutdown",value:function(){this._supplyCommand("shutdown")}},{key:"softRestart",value:function(){this._supplyCommand("graceful-restart")}},{key:"hardRestart",value:function(){this._supplyCommand("restart")}},{key:"reloadLists",value:function(){this._supplyCommand("reload-lists")}},{key:"_supplyCommand",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("active"!=this.status)return null;var c=this._buildEndpoint(e,n);return new Promise((function(e,n){t.http.get(c.toString()).then((function(e){return e.ok||n(e.text()),e.text()})).then((function(t){console.log(t),e(t)})).catch((function(e){return n(e)}))}))}},{key:"_buildEndpoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=new URL(this.addPassword(this.getEndpoint(e)));return Object.entries(t).forEach((function(e){var t=Object(u["a"])(e,2),c=t[0],o=t[1];c&&n.searchParams.append(c,o)})),n}},{key:"instanceIsSuspended",value:function(){return"active"!=this.status||this.info.status.value.includes("suspended")||this.info.status.value.includes("isolated")}},{key:"getStatusEndpoint",value:function(){return this.addPassword(this.getEndpoint("status.xml"))}},{key:"getEndpoint",value:function(e){return"http://".concat(this.host,":").concat(this.port,"/").concat(e,"?")}},{key:"addPassword",value:function(e){return e+"password="+this.password}},{key:"getSmscs",value:function(){return this.info.smscs.smsc.map((function(e){var t=e.status.value.split(" "),n=Object(u["a"])(t,2),c=n[0],o=n[1],s=e.name.value.split(":"),i=Object(u["a"])(s,4),a=i[0],r=i[1],l=i[2],d=i[3];return{id:e.id.value,protocol:a,host:r,port:l,user:d,adminId:e["admin-id"].value,status:c,uptime:o,failed:e.failed.value,queued:e.queued.value,sentSms:e.sms.sent.value,receivedSms:e.sms.received.value,sentDlr:e.dlr.sent.value,receivedDlr:e.dlr.received.value}}))}},{key:"stopSmsc",value:function(e){var t=this;return new Promise((function(n,c){t._supplyCommand("stop-smsc",{smsc:e}).then((function(e){console.log("debugging",e),e.includes("Could not")&&c(e),n(e)})).catch((function(e){return c(e)}))}))}},{key:"startSmsc",value:function(e){var t=this;return new Promise((function(n,c){t._supplyCommand("start-smsc",{smsc:e}).then((function(e){console.log("debugging",e),e.includes("Could not")&&c(e),n(e)})).catch((function(e){return c(e)}))}))}}]),e}(),v={addKannelConnection:function(e,t){var n=e.commit,c=t.proxy?new a(t.proxy):new r;console.log(c);var o=new b(c,t.host,t.pass,t.port);n("ADD_KANNEL_CONNECTION",o)},setCurrentConnection:function(e,t){var n=e.commit;n("SET_CURRENT_CONNECTION",t)},removeCurrentConnection:function(e){var t=e.commit;t("REMOVE_CURRENT_CONNECTION")},removeKannelConnection:function(e,t){var n=e.commit;n("REMOVE_KANNEL_CONNECTION",t)},pingAllConnections:function(e){var t=e.state;t.kannelConnectionsList.forEach((function(e){return e.connect()}))}};n("7db0"),n("4de4");function O(e,t){return e.host==t.host&&e.port==t.port}var f={ADD_KANNEL_CONNECTION:function(e,t){e.kannelConnectionsList.push(t)},SET_CURRENT_CONNECTION:function(e,t){var n=function(e){return O(e,t)};e.currentConnection=e.kannelConnectionsList.find(n)},REMOVE_CURRENT_CONNECTION:function(e){e.currentConnection=null},REMOVE_KANNEL_CONNECTION:function(e,t){var n=function(e){return!O(e,t)};e.kannelConnectionsList=e.kannelConnectionsList.filter(n),e.currentConnection&&O(e.currentConnection,t)&&(e.currentConnection=null)}},j=Object(o["a"])({state:{kannelConnectionsList:[],currentConnection:null},getters:{connectionsCount:function(e){return e.kannelConnectionsList.length()}},actions:v,mutations:f});function m(e,t,n,o,s,i){var a=Object(c["v"])("Toast"),r=Object(c["v"])("connection-handler"),u=Object(c["v"])("SplitterPanel"),l=Object(c["v"])("connection-dashboard"),d=Object(c["v"])("Splitter");return Object(c["p"])(),Object(c["h"])(c["a"],null,[Object(c["k"])(a),Object(c["k"])(d,{style:{width:"100%"}},{default:Object(c["C"])((function(){return[Object(c["k"])(u,{size:30,minSize:20},{default:Object(c["C"])((function(){return[Object(c["k"])(r)]})),_:1}),Object(c["k"])(u,{size:70,minSize:50},{default:Object(c["C"])((function(){return[Object(c["k"])(l)]})),_:1})]})),_:1})],64)}var h=n("8f44"),C=n("7f3e"),y=n("d505");Object(c["r"])("data-v-ed29f50a");var g={id:"connection-handler"},k=Object(c["i"])("h2",null,"Kannel connections",-1),w={class:"p-fluid"},S={class:"p-field p-mb-0"},x={class:"p-field p-mb-0"},N={class:"p-field p-mb-0"},_={class:"p-field p-mb-0"},P={class:"p-m-2 w-full p-d-flex p-jc-center"},I={class:"p-mt-5 p-mb-5"},R=Object(c["i"])("span",{class:"p-tag"},"Connections list",-1);function E(e,t,n,o,s,i){var a=Object(c["v"])("InputText"),r=Object(c["v"])("InputNumber"),u=Object(c["v"])("Button"),l=Object(c["v"])("Divider"),d=Object(c["v"])("connection-item");return Object(c["p"])(),Object(c["h"])("div",g,[k,Object(c["i"])("form",{onSubmit:t[4]||(t[4]=Object(c["F"])((function(){return i.addNewConnection&&i.addNewConnection.apply(i,arguments)}),["prevent"])),class:"p-mb-3"},[Object(c["i"])("div",w,[Object(c["i"])("div",S,[Object(c["k"])(a,{type:"text",placeholder:"host",modelValue:s.newConnectionHost,"onUpdate:modelValue":t[0]||(t[0]=function(e){return s.newConnectionHost=e}),modelModifiers:{trim:!0}},null,8,["modelValue"])]),Object(c["i"])("div",x,[Object(c["k"])(a,{type:"password",placeholder:"password",modelValue:s.newConnectionPassword,"onUpdate:modelValue":t[1]||(t[1]=function(e){return s.newConnectionPassword=e}),modelModifiers:{trim:!0}},null,8,["modelValue"])]),Object(c["i"])("div",N,[Object(c["k"])(r,{modelValue:s.newConnectionPort,"onUpdate:modelValue":t[2]||(t[2]=function(e){return s.newConnectionPort=e}),class:"p-m-2",placeholder:"port",min:0,max:65535,useGrouping:!1},null,8,["modelValue"])]),Object(c["i"])("div",_,[Object(c["k"])(a,{type:"text",placeholder:"proxy (es. http://proxy:port)",modelValue:s.newConnectionProxy,"onUpdate:modelValue":t[3]||(t[3]=function(e){return s.newConnectionProxy=e}),modelModifiers:{trim:!0}},null,8,["modelValue"])]),Object(c["i"])("div",P,[Object(c["k"])(u,{type:"submit",label:"connect",onClick:i.addNewConnection,class:"p-button-outlined p-button-rounded",disabled:i.emptyConnectionForm},null,8,["onClick","disabled"])])])],32),Object(c["i"])("div",I,[Object(c["k"])(l,{align:"center"},{default:Object(c["C"])((function(){return[R]})),_:1})]),(Object(c["p"])(!0),Object(c["h"])(c["a"],null,Object(c["t"])(e.kannelConnectionsList,(function(e){return Object(c["p"])(),Object(c["f"])(d,{key:e.host,connection:e,onClick:function(t){return i.selectConnection(e)}},null,8,["connection","onClick"])})),128))])}Object(c["q"])();var T=n("5530"),M=n("1e16"),A=n("ef3d"),L=n("c3a9"),V=n("76c1");Object(c["r"])("data-v-28caa9f1");var D={class:"status-badge p-tag"},q=Object(c["i"])("br",null,null,-1),U={class:"text-secondary"},F=Object(c["i"])("br",null,null,-1);function B(e,t,n,o,s,i){var a=Object(c["v"])("Button");return Object(c["p"])(),Object(c["h"])("div",{class:Object(c["n"])(["connection-item",{selected:e.currentStateSelected}])},[Object(c["k"])(a,{icon:"pi pi-times",onClick:i.removeConnection,class:"p-button-rounded p-button-danger p-button-outlined p-mr-4"},null,8,["onClick"]),Object(c["i"])("div",null,[Object(c["i"])("span",D,Object(c["y"])(n.connection.status),1),Object(c["i"])("span",null,[Object(c["i"])("b",null,Object(c["y"])(n.connection.host),1)]),q,Object(c["i"])("small",U,"Running on port "+Object(c["y"])(n.connection.port),1),F])],2)}Object(c["q"])();var K={name:"connection-item",components:{Button:L["a"]},props:["connection"],computed:Object(T["a"])({},Object(o["b"])({currentStateSelected:function(e){return null!=e.currentConnection&&e.currentConnection.host==this.connection.host&&e.currentConnection.port==this.connection.port}})),methods:{removeConnection:function(){this.connection&&this.$store.dispatch("removeKannelConnection",this.connection)}}};n("7c64");K.render=B,K.__scopeId="data-v-28caa9f1";var $=K,H={name:"connection-handler",components:{InputText:M["a"],InputNumber:A["a"],Button:L["a"],Divider:V["a"],ConnectionItem:$},computed:Object(T["a"])({emptyConnectionForm:function(){return this.newConnectionHost.length<1||this.newConnectionPassword<1},newConnectionProxyValidated:function(){return this.newConnectionProxy.length>0?this.newConnectionProxy:null}},Object(o["b"])({kannelConnectionsList:"kannelConnectionsList",currentConnection:"currentConnection"})),data:function(){return{newConnectionHost:"",newConnectionPort:null,newConnectionPassword:"",newConnectionProxy:""}},methods:{addNewConnection:function(){this.emptyConnectionForm||(this.$store.dispatch("addKannelConnection",{host:this.newConnectionHost,pass:this.newConnectionPassword,port:this.newConnectionPort,proxy:this.newConnectionProxyValidated}),this.$toast.add({severity:"success",summary:"Connection created",detail:"Trying to connect to ".concat(this.newConnectionHost),life:2e3}),this.clearFields())},clearFields:function(){this.newConnectionHost="",this.newConnectionPort=null,this.newConnectionPassword="",this.newConnectionProxy=""},selectConnection:function(e){this.$store.dispatch("setCurrentConnection",e)}}};n("a360");H.render=E,H.__scopeId="data-v-ed29f50a";var z=H,J={id:"connection-dashboard"},W={key:0,class:"no-connection-box"},G=Object(c["i"])("h1",null,[Object(c["j"])("No "),Object(c["i"])("span",{class:"strong-underline"},"connection"),Object(c["j"])(" selected.")],-1),Q=[G],X={key:1},Y={key:0},Z={class:"p-d-flex p-jc-start p-mt-2 p-mb-2"},ee={class:"p-mb-0 p-mt-0 p-ml-5"},te=Object(c["j"])(" Current connection is "),ne={class:"strong-underline"},ce=Object(c["j"])(", reconnecting. "),oe={key:1,class:"p-mt-3"},se={class:"status-badge p-mt-5 p-d-flex p-flex-row-reverse"},ie={class:"p-tag"},ae={class:"p-grid"},re={class:"p-col"},ue={class:"p-inputgroup p-p-1"},le=Object(c["i"])("span",{class:"p-inputgroup-addon"},"SMS inbound",-1),de={class:"p-inputgroup p-p-1"},pe=Object(c["i"])("span",{class:"p-inputgroup-addon"},"SMS outbound",-1),be={class:"p-col"},ve={class:"p-inputgroup p-p-1"},Oe=Object(c["i"])("span",{class:"p-inputgroup-addon"},"DLR inbound",-1),fe={class:"p-inputgroup p-p-1"},je=Object(c["i"])("span",{class:"p-inputgroup-addon"},"DLR outbound",-1),me={class:"p-col"},he={class:"p-inputgroup p-p-1"},Ce=Object(c["i"])("span",{class:"p-inputgroup-addon"},"SMS storesize",-1),ye={class:"p-inputgroup p-p-1"},ge=Object(c["i"])("span",{class:"p-inputgroup-addon"},"DLR storage",-1),ke={class:"p-field-checkbox"},we=Object(c["i"])("label",{for:"hard-restart-opt"},"Enable hard restart",-1),Se={class:"p-mt-3 p-grid"},xe={class:"p-mt-3"};function Ne(e,t,n,o,s,i){var a=Object(c["v"])("Button"),r=Object(c["v"])("Toolbar"),u=Object(c["v"])("Skeleton"),l=Object(c["v"])("AccordionTab"),d=Object(c["v"])("InputText"),p=Object(c["v"])("InputSwitch"),b=Object(c["v"])("Accordion"),v=Object(c["v"])("Panel"),O=Object(c["v"])("connection-statistics"),f=Object(c["v"])("smsc-collection");return Object(c["p"])(),Object(c["h"])("div",J,[e.currentConnection?(Object(c["p"])(),Object(c["h"])("div",X,[Object(c["k"])(r,null,{left:Object(c["C"])((function(){return[Object(c["k"])(a,{label:"Resume",onClick:t[0]||(t[0]=function(t){return e.currentConnection.resume()}),disabled:!i.instanceSuspended||i.connectionNotActive,icon:"pi pi-play",class:"p-mr-2 p-button-sm p-button-outlined p-button-success"},null,8,["disabled"]),Object(c["k"])(a,{label:"Isolate",disabled:i.connectionNotActive,onClick:t[1]||(t[1]=function(t){return e.currentConnection.isolate()}),icon:"pi pi-lock",class:"p-mr-2 p-button-sm p-button-outlined p-button-warning"},null,8,["disabled"]),Object(c["k"])(a,{label:"Suspend",onClick:t[2]||(t[2]=function(t){return e.currentConnection.suspend()}),disabled:i.connectionNotActive,icon:"pi pi-pause",class:"p-mr-2 p-button-sm p-button-outlined p-button-warning"},null,8,["disabled"]),Object(c["k"])(a,{label:"Restart",onClick:i.restartKannelInstance,disabled:i.connectionNotActive,icon:"pi pi-replay",class:Object(c["n"])(["p-mr-2 p-button-sm p-button-outlined",s.hardRestart?"p-button-danger":"p-button-warning"])},null,8,["onClick","disabled","class"]),Object(c["k"])(a,{label:"Shutdown",onClick:t[3]||(t[3]=function(t){return e.currentConnection.shutdown()}),disabled:i.connectionNotActive,icon:"pi pi-power-off",class:"p-mr-2 p-button-sm p-button-outlined p-button-danger"},null,8,["disabled"]),Object(c["k"])(a,{label:"BWlist",onClick:t[4]||(t[4]=function(t){return e.currentConnection.reloadLists()}),disabled:i.connectionNotActive,icon:"pi pi-refresh",class:"p-mr-2 p-button-sm p-button-outlined"},null,8,["disabled"])]})),right:Object(c["C"])((function(){return[Object(c["k"])(a,{icon:"pi pi-times",onClick:i.expelCurrentConnection,class:"p-button-sm p-button-danger"},null,8,["onClick"])]})),_:1}),i.connectionNotActive?(Object(c["p"])(),Object(c["h"])("div",Y,[Object(c["k"])(u,{class:"p-mt-3 p-mb-3",height:"10rem"}),Object(c["i"])("div",Z,[Object(c["k"])(u,{class:"p-mb-3",height:"3rem",width:"15rem"}),Object(c["i"])("h1",ee,[te,Object(c["i"])("span",ne,Object(c["y"])(e.currentConnection.status),1),ce])]),Object(c["k"])(u,{class:"p-mb-3",height:"3rem"}),Object(c["k"])(u,{class:"p-mb-3",height:"3rem"}),Object(c["k"])(u,{class:"p-mb-3",height:"3rem"})])):(Object(c["p"])(),Object(c["h"])("div",oe,[Object(c["k"])(v,null,{header:Object(c["C"])((function(){return[Object(c["i"])("span",null,Object(c["y"])(e.currentConnection.host),1),Object(c["i"])("div",se,[Object(c["i"])("span",ie,Object(c["y"])(e.currentConnection.info.status.value),1)])]})),default:Object(c["C"])((function(){return[Object(c["k"])(b,{activeIndex:1},{default:Object(c["C"])((function(){return[Object(c["k"])(l,{header:"Instance status"},{default:Object(c["C"])((function(){return[Object(c["j"])(Object(c["y"])(e.currentConnection.info.version.value),1)]})),_:1}),Object(c["k"])(l,{header:"Misc. informations"},{default:Object(c["C"])((function(){return[Object(c["i"])("div",ae,[Object(c["i"])("div",re,[Object(c["i"])("div",ue,[le,Object(c["k"])(d,{value:e.currentConnection.info.sms.inbound.value,readonly:""},null,8,["value"])]),Object(c["i"])("div",de,[pe,Object(c["k"])(d,{value:e.currentConnection.info.sms.outbound.value,readonly:""},null,8,["value"])])]),Object(c["i"])("div",be,[Object(c["i"])("div",ve,[Oe,Object(c["k"])(d,{value:e.currentConnection.info.dlr.inbound.value,readonly:""},null,8,["value"])]),Object(c["i"])("div",fe,[je,Object(c["k"])(d,{value:e.currentConnection.info.dlr.outbound.value,readonly:""},null,8,["value"])])]),Object(c["i"])("div",me,[Object(c["i"])("div",he,[Ce,Object(c["k"])(d,{value:e.currentConnection.info.sms.storesize.value,readonly:""},null,8,["value"])]),Object(c["i"])("div",ye,[ge,Object(c["k"])(d,{value:e.currentConnection.info.dlr.storage.value,readonly:""},null,8,["value"])])])])]})),_:1}),Object(c["k"])(l,{header:"Configurations"},{default:Object(c["C"])((function(){return[Object(c["i"])("div",ke,[Object(c["k"])(p,{id:"hard-restart-opt",modelValue:s.hardRestart,"onUpdate:modelValue":t[5]||(t[5]=function(e){return s.hardRestart=e})},null,8,["modelValue"]),we])]})),_:1})]})),_:1})]})),_:1}),Object(c["i"])("div",Se,[Object(c["k"])(O,{connection:e.currentConnection},null,8,["connection"])]),Object(c["i"])("div",xe,[Object(c["k"])(f,{connection:e.currentConnection},null,8,["connection"])])]))])):(Object(c["p"])(),Object(c["h"])("div",W,Q))])}var _e=n("eac9"),Pe=n("5fc5"),Ie=n("6a89");Object(c["r"])("data-v-10fa9dde");var Re={class:"dlr-box-stat"},Ee={class:"dlr-stat-received"},Te={class:"circle"},Me=Object(c["i"])("div",{class:"label"},"received",-1),Ae={class:"dlr-stat-received"},Le={class:"circle"},Ve=Object(c["i"])("div",{class:"label"},"queued",-1),De={class:"dlr-stat-received"},qe={class:"circle"},Ue=Object(c["i"])("div",{class:"label"},"sent",-1);function Fe(e,t,n,o,s,i){var a=Object(c["v"])("ProgressBar"),r=Object(c["v"])("Fieldset");return Object(c["p"])(),Object(c["h"])(c["a"],null,[Object(c["k"])(r,{class:"p-col",legend:"WPS"},{default:Object(c["C"])((function(){return[Object(c["k"])(a,{class:"p-m-2",value:i.wpsSentPercentage},{default:Object(c["C"])((function(){return[Object(c["j"])(Object(c["y"])(i.wpsSentPercentage)+"% of sent wps out of queue.",1)]})),_:1},8,["value"]),Object(c["k"])(a,{class:"p-m-2",value:i.wpsReceivedPercentage},{default:Object(c["C"])((function(){return[Object(c["j"])(Object(c["y"])(i.wpsReceivedPercentage)+"% of received wps out of queue.",1)]})),_:1},8,["value"])]})),_:1}),Object(c["k"])(r,{class:"p-col",legend:"SMS"},{default:Object(c["C"])((function(){return[Object(c["k"])(a,{class:"p-m-2",value:i.smsSentPercentage},{default:Object(c["C"])((function(){return[Object(c["j"])(Object(c["y"])(i.smsSentPercentage)+"% of sent sms out of queue.",1)]})),_:1},8,["value"]),Object(c["k"])(a,{class:"p-m-2",value:i.smsReceivedPercentage},{default:Object(c["C"])((function(){return[Object(c["j"])(Object(c["y"])(i.smsReceivedPercentage)+"% of received sms out of queue.",1)]})),_:1},8,["value"])]})),_:1}),Object(c["k"])(r,{class:"p-col",legend:"DLR"},{default:Object(c["C"])((function(){return[Object(c["i"])("div",Re,[Object(c["i"])("div",Ee,[Object(c["i"])("div",Te,Object(c["y"])(n.connection.info.dlr.received.total.value),1),Me]),Object(c["i"])("div",Ae,[Object(c["i"])("div",Le,Object(c["y"])(n.connection.info.dlr.queued.value),1),Ve]),Object(c["i"])("div",De,[Object(c["i"])("div",qe,Object(c["y"])(n.connection.info.dlr.sent.total.value),1),Ue])])]})),_:1})],64)}Object(c["q"])();var Be=n("6f94"),Ke=n("adbb"),$e={name:"connection-statistics",props:["connection"],components:{Fieldset:Be["a"],ProgressBar:Ke["a"]},data:function(){return{}},computed:{wpsSentPercentage:function(){var e=parseInt(this.connection.info.wdp.sent.total.value),t=parseInt(this.connection.info.wdp.sent.queued.value);return 0==e?e:100*(1-t/e)},wpsReceivedPercentage:function(){var e=parseInt(this.connection.info.wdp.received.total.value),t=parseInt(this.connection.info.wdp.received.queued.value);return 0==e?e:100*(1-t/e)},smsSentPercentage:function(){var e=parseInt(this.connection.info.sms.sent.total.value),t=parseInt(this.connection.info.sms.sent.queued.value);return 0==e?e:100*(1-t/e)},smsReceivedPercentage:function(){var e=parseInt(this.connection.info.sms.received.total.value),t=parseInt(this.connection.info.sms.received.queued.value);return 0==e?e:100*(1-t/e)}}};n("5524");$e.render=Fe,$e.__scopeId="data-v-10fa9dde";var He=$e,ze=n("9cf7"),Je=n("f6d7"),We={class:"fix-w-parent"},Ge={class:"p-d-flex p-flex-wrap p-jc-center"};function Qe(e,t,n,o,s,i){var a=Object(c["v"])("smsc-item"),r=Object(c["v"])("Fieldset"),u=Object(c["v"])("smsc-modal");return Object(c["p"])(),Object(c["h"])(c["a"],null,[Object(c["k"])(r,{class:"p-col",legend:"SMSC List"},{default:Object(c["C"])((function(){return[Object(c["i"])("div",We,[Object(c["i"])("div",Ge,[(Object(c["p"])(!0),Object(c["h"])(c["a"],null,Object(c["t"])(i.smscs,(function(e,t){return Object(c["p"])(),Object(c["f"])(a,{key:t,smsc:e,onClick:function(t){return i.selectSmsc(e)}},null,8,["smsc","onClick"])})),128))])])]})),_:1}),Object(c["k"])(u,{connection:n.connection,smscId:s.selectedSmscId,onCloseSmscModal:i.removeSelectedSmsc},null,8,["connection","smscId","onCloseSmscModal"])],64)}Object(c["r"])("data-v-6479fcef");var Xe={class:"smsc-outer-box"},Ye=Object(c["i"])("div",{class:"smsc-box"},null,-1),Ze={class:"smsc-content"},et={style:{"text-align":"center"}},tt={class:"p-m-3"},nt={class:"p-text-nowrap"},ct=Object(c["i"])("br",null,null,-1),ot=Object(c["j"])(),st=Object(c["i"])("br",null,null,-1);function it(e,t,n,o,s,i){var a=Object(c["v"])("Tag");return Object(c["p"])(),Object(c["h"])("div",Xe,[Ye,Object(c["i"])("div",Ze,[Object(c["i"])("div",et,[Object(c["i"])("div",tt,[Object(c["k"])(a,{value:n.smsc.status,severity:i.statusSeverity},null,8,["value","severity"])]),Object(c["i"])("span",nt,[Object(c["i"])("b",null,Object(c["y"])(n.smsc.id),1)]),ct,Object(c["i"])("small",null,Object(c["y"])(n.smsc.host),1),ot,st])])])}Object(c["q"])();n("4ec9");var at=n("20de"),rt=new Map([["online","success"],["re-connecting","warning"],["connecting","warning"],["disconnected","danger"],["dead","danger"]]),ut={name:"smsc-item",props:["smsc"],components:{Tag:at["a"]},computed:{statusSeverity:function(){return rt.get(this.smsc.status)}}};n("95a3");ut.render=it,ut.__scopeId="data-v-6479fcef";var lt=ut,dt={class:"p-mb-0"},pt={class:"p-mt-0 text-secondary"},bt={class:"p-grid p-p-3"},vt={class:"p-col"},Ot={class:"p-inputgroup p-p-1"},ft=Object(c["i"])("span",{class:"p-inputgroup-addon"},"Protocol",-1),jt={class:"p-inputgroup p-p-1"},mt=Object(c["i"])("span",{class:"p-inputgroup-addon"},"Port",-1),ht={class:"p-inputgroup p-p-1"},Ct=Object(c["i"])("span",{class:"p-inputgroup-addon"},"User",-1),yt={class:"p-inputgroup p-p-1"},gt=Object(c["i"])("span",{class:"p-inputgroup-addon"},"Admin ID",-1),kt={class:"p-col"},wt={class:"p-inputgroup p-p-1"},St=Object(c["i"])("span",{class:"p-inputgroup-addon"},"Status",-1),xt={class:"p-inputgroup p-p-1"},Nt=Object(c["i"])("span",{class:"p-inputgroup-addon"},"Uptime",-1),_t={class:"p-inputgroup p-p-1"},Pt=Object(c["i"])("span",{class:"p-inputgroup-addon"},"Failed",-1),It={class:"p-inputgroup p-p-1"},Rt=Object(c["i"])("span",{class:"p-inputgroup-addon"},"Queued",-1),Et={class:"p-col"},Tt={class:"p-inputgroup p-p-1"},Mt=Object(c["i"])("span",{class:"p-inputgroup-addon"},"Sent sms",-1),At={class:"p-inputgroup p-p-1"},Lt=Object(c["i"])("span",{class:"p-inputgroup-addon"},"Received Sms",-1),Vt={class:"p-inputgroup p-p-1"},Dt=Object(c["i"])("span",{class:"p-inputgroup-addon"},"Sent DLR",-1),qt={class:"p-inputgroup p-p-1"},Ut=Object(c["i"])("span",{class:"p-inputgroup-addon"},"Received DLR",-1);function Ft(e,t,n,o,s,i){var a=Object(c["v"])("InputText"),r=Object(c["v"])("Button"),u=Object(c["v"])("Dialog");return n.connection&&n.smscId?(Object(c["p"])(),Object(c["f"])(u,{key:0,visible:s.displayModal,"onUpdate:visible":t[1]||(t[1]=function(e){return s.displayModal=e}),position:"left",class:"p-shadow-24",breakpoints:{"960px":"75vw","640px":"100vw"},style:{width:"50vw"},modal:!0},{header:Object(c["C"])((function(){return[Object(c["i"])("div",null,[Object(c["i"])("h1",dt,Object(c["y"])(i.smsc.id),1),Object(c["i"])("h3",pt,Object(c["y"])(i.smsc.host),1)])]})),footer:Object(c["C"])((function(){return[Object(c["k"])(r,{label:"Stop smsc",class:"p-button-outlined p-button-danger",onClick:i.stopSmsc,icon:"pi pi-stop"},null,8,["onClick"]),Object(c["k"])(r,{label:"Start smsc",class:"p-button-outlined p-button-success",onClick:i.startSmsc,icon:"pi pi-stop"},null,8,["onClick"]),Object(c["k"])(r,{label:"Close",onClick:t[0]||(t[0]=function(e){return s.displayModal=!1}),class:"p-button-outlined",icon:"pi pi-tim es",autofocus:""})]})),default:Object(c["C"])((function(){return[Object(c["i"])("div",bt,[Object(c["i"])("div",vt,[Object(c["i"])("div",Ot,[ft,Object(c["k"])(a,{value:i.smsc.protocol,readonly:""},null,8,["value"])]),Object(c["i"])("div",jt,[mt,Object(c["k"])(a,{value:i.smsc.port,readonly:""},null,8,["value"])]),Object(c["i"])("div",ht,[Ct,Object(c["k"])(a,{value:i.smsc.user,readonly:""},null,8,["value"])]),Object(c["i"])("div",yt,[gt,Object(c["k"])(a,{value:i.smsc.adminId,readonly:""},null,8,["value"])])]),Object(c["i"])("div",kt,[Object(c["i"])("div",wt,[St,Object(c["k"])(a,{value:i.smsc.status,readonly:""},null,8,["value"])]),Object(c["i"])("div",xt,[Nt,Object(c["k"])(a,{value:i.smsc.uptime,readonly:""},null,8,["value"])]),Object(c["i"])("div",_t,[Pt,Object(c["k"])(a,{value:i.smsc.failed,readonly:""},null,8,["value"])]),Object(c["i"])("div",It,[Rt,Object(c["k"])(a,{value:i.smsc.queued,readonly:""},null,8,["value"])])]),Object(c["i"])("div",Et,[Object(c["i"])("div",Tt,[Mt,Object(c["k"])(a,{value:i.smsc.sentSms,readonly:""},null,8,["value"])]),Object(c["i"])("div",At,[Lt,Object(c["k"])(a,{value:i.smsc.receivedSms,readonly:""},null,8,["value"])]),Object(c["i"])("div",Vt,[Dt,Object(c["k"])(a,{value:i.smsc.sentDlr,readonly:""},null,8,["value"])]),Object(c["i"])("div",qt,[Ut,Object(c["k"])(a,{value:i.smsc.receivedDlr,readonly:""},null,8,["value"])])])])]})),_:1},8,["visible"])):Object(c["g"])("",!0)}var Bt=n("2c09"),Kt={name:"smsc-modal",props:["connection","smscId"],components:{Dialog:Bt["a"],InputText:M["a"],Button:L["a"]},computed:{smsc:function(){return this.connection.getSmscs().find((function(e){return e.id==e.id}))}},data:function(){return{displayModal:!1}},methods:{stopSmsc:function(){var e=this;this.connection.stopSmsc(this.smscId).then((function(t){return e.$toast.add({severity:"success",summary:"Smsc stopped successfully.",detail:t,life:2e3})})).catch((function(t){e.$toast.add({severity:"error",summary:"Cannot stop smsc",detail:"Error: ".concat(t),life:2e3})}))},startSmsc:function(){var e=this;this.connection.startSmsc(this.smscId).then((function(t){return e.$toast.add({severity:"success",summary:"Smsc started successfully.",detail:t,life:2e3})})).catch((function(t){e.$toast.add({severity:"error",summary:"Cannot start smsc",detail:"Error: ".concat(t),life:2e3})}))}},watch:{smscId:function(e){this.displayModal=null!=e},displayModal:function(e){e||this.$emit("close-smsc-modal")}}};Kt.render=Ft;var $t=Kt,Ht={name:"smsc-collection",props:["connection"],components:{SmscItem:lt,SmscModal:$t,Fieldset:Be["a"]},data:function(){return{selectedSmscId:null}},computed:{smscs:function(){return this.connection.getSmscs()}},methods:{selectSmsc:function(e){this.selectedSmscId=e.id},removeSelectedSmsc:function(){this.selectedSmscId=null}}};Ht.render=Qe;var zt=Ht,Jt=n("f4ad"),Wt={name:"connection-dashboard",components:{Toolbar:_e["a"],Button:L["a"],Skeleton:Pe["a"],Panel:Ie["a"],ConnectionStatistics:He,Accordion:ze["a"],AccordionTab:Je["a"],InputText:M["a"],SmscCollection:zt,InputSwitch:Jt["a"]},computed:Object(T["a"])(Object(T["a"])({},Object(o["b"])({currentConnection:"currentConnection"})),{},{connectionNotActive:function(){return"active"!=this.currentConnection.status},instanceSuspended:function(){return this.currentConnection.instanceIsSuspended()},smscs:function(){return this.currentConnection.info.smscs.smsc}}),data:function(){return{hardRestart:!1}},methods:{expelCurrentConnection:function(){this.$store.dispatch("removeCurrentConnection")},restartKannelInstance:function(){this.hardRestart?this.currentConnection.hardRestart():this.currentConnection.softRestart()}}};n("a132");Wt.render=Ne;var Gt=Wt,Qt={name:"App",components:{ConnectionHandler:z,ConnectionDashboard:Gt,Splitter:h["a"],SplitterPanel:C["a"],Toast:y["a"]},created:function(){var e=this;setInterval((function(){e.$store.dispatch("pingAllConnections")}),1500)}};n("3ada");Qt.render=m;var Xt=Qt,Yt=n("9319"),Zt=n("485c"),en=(n("5aea"),n("bddf"),n("b026"),n("e1ae"),n("4121"),Object(c["e"])(Xt));en.use(j),en.use(Yt["a"]),en.use(Zt["a"]),en.mount("#app")},"5aea":function(e,t,n){},"6de8":function(e,t,n){},"7c64":function(e,t,n){"use strict";n("b648")},"7faa":function(e,t,n){},"95a3":function(e,t,n){"use strict";n("7faa")},a132:function(e,t,n){"use strict";n("6de8")},a2f8:function(e,t,n){},a360:function(e,t,n){"use strict";n("4036")},b648:function(e,t,n){},d551:function(e,t,n){}});
//# sourceMappingURL=app.2faffad1.js.map